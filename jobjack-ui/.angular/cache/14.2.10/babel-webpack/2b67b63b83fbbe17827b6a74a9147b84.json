{"ast":null,"code":"import { HttpRequest, HttpHandler, HttpEvent } from '@angular/common/http';\nimport { finalize } from 'rxjs/operators';\nimport { SpinnerOverlayService } from '../services/spinner-overlay.service';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"../services/spinner-overlay.service\";\nexport let LoaderInterceptor = /*#__PURE__*/(() => {\n  class LoaderInterceptor {\n    constructor(spinner) {\n      this.spinner = spinner;\n      this.count = 0;\n    }\n\n    intercept(request, next) {\n      if (this.count === 0) {\n        this.spinner.show();\n      }\n\n      this.count++;\n      return next.handle(request).pipe(finalize(() => {\n        this.count--;\n\n        if (this.count === 0) {\n          this.spinner.hide();\n        }\n      }));\n    }\n\n  }\n\n  LoaderInterceptor.ɵfac = function LoaderInterceptor_Factory(t) {\n    return new (t || LoaderInterceptor)(i0.ɵɵinject(i1.SpinnerOverlayService));\n  };\n\n  LoaderInterceptor.ɵprov = /*@__PURE__*/i0.ɵɵdefineInjectable({\n    token: LoaderInterceptor,\n    factory: LoaderInterceptor.ɵfac\n  });\n  return LoaderInterceptor;\n})();","map":null,"metadata":{},"sourceType":"module"}