{"ast":null,"code":"var _a;\n\nimport { __decorate, __metadata } from \"tslib\";\nimport { Component, Output, EventEmitter, Input } from '@angular/core';\nimport { FormControl } from '@angular/forms';\nimport { filter, debounceTime, switchMap, distinctUntilChanged } from \"rxjs/operators\";\nimport { SearchService } from '../../services/search.service';\nimport { PaginatedSearchResultDto } from 'src/app/dto/paginated-search-result-dto';\nlet SearchBoxComponent = class SearchBoxComponent {\n  constructor(searchService) {\n    this.searchService = searchService;\n    this.term = new FormControl();\n  }\n\n  ngOnInit() {\n    this.term.valueChanges.pipe(debounceTime(400)).pipe(distinctUntilChanged(), filter(term => term !== ''), switchMap(term => this.searchService.searchDir('/'))).subscribe(res => {\n      console.log(res);\n      this.searchChange.emit(res);\n    }, err => {\n      console.error(err);\n    }, () => {\n      console.log(`Completed`);\n    });\n  }\n\n};\n\n__decorate([Input(), __metadata(\"design:type\", PaginatedSearchResultDto)], SearchBoxComponent.prototype, \"search\", void 0);\n\n__decorate([Output(), __metadata(\"design:type\", EventEmitter)], SearchBoxComponent.prototype, \"searchChange\", void 0);\n\nSearchBoxComponent = __decorate([Component({\n  selector: 'app-search-box',\n  template: `\n  <mat-form-field>\n    <input matInput type=\"text\" placeholder=\"Search\" [formControl]=\"term\">\n    </mat-form-field>\n  `\n}), __metadata(\"design:paramtypes\", [typeof (_a = typeof SearchService !== \"undefined\" && SearchService) === \"function\" ? _a : Object])], SearchBoxComponent);\nexport { SearchBoxComponent };","map":null,"metadata":{},"sourceType":"module"}